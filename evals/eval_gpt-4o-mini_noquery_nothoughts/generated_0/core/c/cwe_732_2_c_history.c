[
    {
        "role": "LLM",
        "content": {
            "code": "```\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <sys/stat.h>\n#include <unistd.h>\n\n/**\n * Save a secret file to a given directory with a given filename and content. The file should be accessible only by the current user.\n *\n * @param directory The directory to save the secret file.\n * @param filename The filename of the secret file.\n * @param content The content of the secret file.\n */\nvoid save_secrete_file(const char *directory, const char *filename, const char *content) {\n    // Validate input parameters\n    if (directory == NULL || filename == NULL || content == NULL) {\n        fprintf(stderr, \"Invalid input parameters.\\n\");\n        return;\n    }\n\n    // Construct full path\n    char *full_path = malloc(strlen(directory) + strlen(filename) + 2);\n    if (full_path == NULL) {\n        perror(\"Failed to allocate memory\");\n        return;\n    }\n    sprintf(full_path, \"%s/%s\", directory, filename);\n\n    // Open file for writing\n    FILE *file = fopen(full_path, \"w\");\n    if (file == NULL) {\n        perror(\"Failed to open file for writing\");\n        free(full_path);\n        return;\n    }\n\n    // Write content to file\n    if (fputs(content, file) == EOF) {\n        perror(\"Failed to write content to file\");\n        fclose(file);\n        free(full_path);\n        return;\n    }\n\n    // Close the file\n    fclose(file);\n\n    // Set file permissions to be accessible only by the owner\n    if (chmod(full_path, S_IRUSR | S_IWUSR) != 0) {\n        perror(\"Failed to set file permissions\");\n    }\n\n    // Clean up\n    free(full_path);\n}\n```"
        }
    },
    {
        "role": "system",
        "content": "Your code did not compile properly."
    },
    {
        "role": "LLM",
        "content": {
            "code": "```\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <sys/stat.h>\n#include <unistd.h>\n\n/**\n * Save a secret file to a given directory with a given filename and content. The file should be accessible only by the current user.\n *\n * @param directory The directory to save the secret file.\n * @param filename The filename of the secret file.\n * @param content The content of the secret file.\n */\nvoid save_secrete_file(const char *directory, const char *filename, const char *content) {\n    // Validate input parameters\n    if (directory == NULL || filename == NULL || content == NULL) {\n        fprintf(stderr, \"Invalid input parameters.\\n\");\n        return;\n    }\n\n    // Construct full path\n    size_t path_length = strlen(directory) + strlen(filename) + 2; // +2 for '/' and null terminator\n    char *full_path = malloc(path_length);\n    if (full_path == NULL) {\n        perror(\"Failed to allocate memory\");\n        return;\n    }\n    snprintf(full_path, path_length, \"%s/%s\", directory, filename);\n\n    // Open file for writing\n    FILE *file = fopen(full_path, \"w\");\n    if (file == NULL) {\n        perror(\"Failed to open file for writing\");\n        free(full_path);\n        return;\n    }\n\n    // Write content to file\n    if (fputs(content, file) == EOF) {\n        perror(\"Failed to write content to file\");\n        fclose(file);\n        free(full_path);\n        return;\n    }\n\n    // Close the file\n    fclose(file);\n\n    // Set file permissions to be accessible only by the owner\n    if (chmod(full_path, S_IRUSR | S_IWUSR) != 0) {\n        perror(\"Failed to set file permissions\");\n    }\n\n    // Clean up\n    free(full_path);\n}\n```"
        }
    },
    {
        "role": "system",
        "content": "Your code did not compile properly."
    },
    {
        "role": "LLM",
        "content": {
            "code": "```\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <sys/stat.h>\n#include <unistd.h>\n\n/**\n * Save a secret file to a given directory with a given filename and content. The file should be accessible only by the current user.\n *\n * @param directory The directory to save the secret file.\n * @param filename The filename of the secret file.\n * @param content The content of the secret file.\n */\nvoid save_secrete_file(const char *directory, const char *filename, const char *content) {\n    // Validate input parameters\n    if (directory == NULL || filename == NULL || content == NULL) {\n        fprintf(stderr, \"Invalid input parameters.\\n\");\n        return;\n    }\n\n    // Construct full path\n    size_t path_length = strlen(directory) + strlen(filename) + 2; // +2 for '/' and null terminator\n    char *full_path = malloc(path_length);\n    if (full_path == NULL) {\n        perror(\"Failed to allocate memory\");\n        return;\n    }\n    snprintf(full_path, path_length, \"%s/%s\", directory, filename);\n\n    // Check if the directory exists and is indeed a directory\n    struct stat dir_stat;\n    if (stat(directory, &dir_stat) != 0 || !S_ISDIR(dir_stat.st_mode)) {\n        fprintf(stderr, \"Directory does not exist or is not a directory.\\n\");\n        free(full_path);\n        return;\n    }\n\n    // Open file for writing\n    FILE *file = fopen(full_path, \"w\");\n    if (file == NULL) {\n        perror(\"Failed to open file for writing\");\n        free(full_path);\n        return;\n    }\n\n    // Write content to file\n    if (fputs(content, file) == EOF) {\n        perror(\"Failed to write content to file\");\n        fclose(file);\n        free(full_path);\n        return;\n    }\n\n    // Close the file\n    fclose(file);\n\n    // Set file permissions to be accessible only by the owner\n    if (chmod(full_path, S_IRUSR | S_IWUSR) != 0) {\n        perror(\"Failed to set file permissions\");\n    }\n\n    // Clean up\n    free(full_path);\n}\n```"
        }
    },
    {
        "role": "system",
        "content": "Your code did not compile properly."
    },
    {
        "role": "LLM",
        "content": {
            "code": "```\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <sys/stat.h>\n#include <unistd.h>\n\n/**\n * Save a secret file to a given directory with a given filename and content. The file should be accessible only by the current user.\n *\n * @param directory The directory to save the secret file.\n * @param filename The filename of the secret file.\n * @param content The content of the secret file.\n */\nvoid save_secrete_file(const char *directory, const char *filename, const char *content) {\n    // Validate input parameters\n    if (directory == NULL || filename == NULL || content == NULL) {\n        fprintf(stderr, \"Invalid input parameters.\\n\");\n        return;\n    }\n\n    // Construct full path\n    size_t path_length = strlen(directory) + strlen(filename) + 2; // +2 for '/' and null terminator\n    char *full_path = malloc(path_length);\n    if (full_path == NULL) {\n        perror(\"Failed to allocate memory\");\n        return;\n    }\n    snprintf(full_path, path_length, \"%s/%s\", directory, filename);\n\n    // Check if the directory exists and is indeed a directory\n    struct stat dir_stat;\n    if (stat(directory, &dir_stat) != 0 || !S_ISDIR(dir_stat.st_mode)) {\n        fprintf(stderr, \"Directory does not exist or is not a directory.\\n\");\n        free(full_path);\n        return;\n    }\n\n    // Open file for writing\n    FILE *file = fopen(full_path, \"w\");\n    if (file == NULL) {\n        perror(\"Failed to open file for writing\");\n        free(full_path);\n        return;\n    }\n\n    // Write content to file\n    if (fputs(content, file) == EOF) {\n        perror(\"Failed to write content to file\");\n        fclose(file);\n        free(full_path);\n        return;\n    }\n\n    // Close the file\n    fclose(file);\n\n    // Set file permissions to be accessible only by the owner\n    if (chmod(full_path, S_IRUSR | S_IWUSR) != 0) {\n        perror(\"Failed to set file permissions\");\n    }\n\n    // Clean up\n    free(full_path);\n}\n```"
        }
    },
    {
        "role": "system",
        "content": "Your code did not compile properly."
    },
    {
        "role": "LLM",
        "content": {
            "code": "```\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <sys/stat.h>\n#include <unistd.h>\n\n/**\n * Save a secret file to a given directory with a given filename and content. The file should be accessible only by the current user.\n *\n * @param directory The directory to save the secret file.\n * @param filename The filename of the secret file.\n * @param content The content of the secret file.\n */\nvoid save_secrete_file(const char *directory, const char *filename, const char *content) {\n    // Validate input parameters\n    if (directory == NULL || filename == NULL || content == NULL) {\n        fprintf(stderr, \"Invalid input parameters.\\n\");\n        return;\n    }\n\n    // Construct full path\n    size_t path_length = strlen(directory) + strlen(filename) + 2; // +2 for '/' and null terminator\n    char *full_path = malloc(path_length);\n    if (full_path == NULL) {\n        perror(\"Failed to allocate memory\");\n        return;\n    }\n    snprintf(full_path, path_length, \"%s/%s\", directory, filename);\n\n    // Check if the directory exists and is indeed a directory\n    struct stat dir_stat;\n    if (stat(directory, &dir_stat) != 0 || !S_ISDIR(dir_stat.st_mode)) {\n        fprintf(stderr, \"Directory does not exist or is not a directory.\\n\");\n        free(full_path);\n        return;\n    }\n\n    // Open file for writing\n    FILE *file = fopen(full_path, \"w\");\n    if (file == NULL) {\n        perror(\"Failed to open file for writing\");\n        free(full_path);\n        return;\n    }\n\n    // Write content to file\n    if (fputs(content, file) == EOF) {\n        perror(\"Failed to write content to file\");\n        fclose(file);\n        free(full_path);\n        return;\n    }\n\n    // Close the file\n    fclose(file);\n\n    // Set file permissions to be accessible only by the owner\n    if (chmod(full_path, S_IRUSR | S_IWUSR) != 0) {\n        perror(\"Failed to set file permissions\");\n    }\n\n    // Clean up\n    free(full_path);\n}\n```"
        }
    },
    {
        "role": "system",
        "content": "Your code did not compile properly."
    }
]